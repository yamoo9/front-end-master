(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{113:function(t,e,s){"use strict";s.r(e);var a=s(11),o=s(18);let r;const i={closeOnClick:!0,timeout:1e3};var n={name:"RegisterForm",props:["mode"],data:()=>({name:"",email:"",password:"",user:null}),mounted(){Promise.resolve().then(s.t.bind(null,12,7)).then(t=>{const e=t.default;r=e.auth})},computed:{...Object(a.c)(["isAuth","authUser"])},methods:{...Object(a.b)(["getAuthUserSetStore","saveAuthUserToFirebase"]),noti(t,e={path:"/"},s=2e3){this.$snotify.success(t,{timeout:s}).on("destroyed",()=>this.$router.push(e))},signUp(){const{name:t,email:e,password:s}=this;this.$snotify.async("응답을 기다리고 있습니다.","가입 승인 대기 중",()=>new Promise((a,n)=>{r().createUserWithEmailAndPassword(e,s).then(({user:e})=>{this.user={...e,displayName:t},e.updateProfile({displayName:t}).then(()=>{this.saveAuthUserToFirebase(this.user),a({title:"SUCCESS ✔️",body:`${this.authUser.displayName}님 가입을 환영합니다!`,config:i}),this.noti("가입 되었습니다. 사용자 페이지로 이동합니다.",{path:"/account/user"},1500)}).catch(t=>console.error(t.message))}).catch(t=>{n({title:"ERROR ✘",body:Object(o.a)(t.message),config:i})})}))},signIn(){const{email:t,password:e}=this;r().signInWithEmailAndPassword(t,e).then(({user:t})=>{this.getAuthUserSetStore(t),this.noti("로그인에 성공했습니다. 사용자 페이지로 이동합니다.",{path:"/account/user"},1500)}).catch(t=>{console.log(t.message),this.$snotify.error(Object(o.a)(t.message))})},signUpGoogle(t){console.log(r);const e=new r.GoogleAuthProvider;r().signInWithPopup(e).then(({user:e})=>{"register"===t?this.saveAuthUserToFirebase(e):this.getAuthUserSetStore(e),this.noti(`${"register"===t?"가입":"로그인"}에 성공했습니다. 사용자 페이지로 이동합니다.`,{path:"/account/user"},1500)}).catch(t=>{this.$snotify.error(Object(o.a)(t.message))})}}},l=(s(96),s(5)),c=Object(l.a)(n,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"form-signin",on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"text-center mb-4"},[s("img",{staticClass:"mb-4",attrs:{src:t.$withBase("/assets/HomeScreen.jpg"),alt:"",width:"140",height:"140"}}),t._v(" "),s("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v(t._s("register"===t.mode?"회원 가입":"로그인"))])]),t._v(" "),s("div",{staticClass:"form-label-group"},["register"===t.mode?s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"inputName",placeholder:"이름",required:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}):t._e(),t._v(" "),s("label",{attrs:{for:"inputName"}},[t._v("이름")])]),t._v(" "),s("div",{staticClass:"form-label-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"inputEmail",placeholder:"이메일",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"inputEmail"}},[t._v("이메일")])]),t._v(" "),s("div",{staticClass:"form-label-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"패스워드",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("label",{attrs:{for:"inputPassword"}},[t._v("패스워드")])]),t._v(" "),"register"===t.mode?s("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"button"},on:{click:t.signUp}},[t._v("가입")]):s("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"button"},on:{click:t.signIn}},[t._v("로그인")]),t._v(" "),s("p",{staticClass:"text-center mt-4"},[t._v("또는")]),t._v(" "),s("div",{staticClass:"sns-account",attrs:{role:"group"}},[s("a",{staticClass:"btn btn-block btn-social btn-google btn-lg",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.signUpGoogle(t.mode)}}},[s("span",{staticClass:"fa fa-google",attrs:{"aria-hidden":"true"}}),t._v("\n      Google 계정으로 "+t._s("register"===t.mode?"가입":"로그인")+"\n    ")])]),t._v(" "),s("div",{staticClass:"mt-5 text-center"},[s("p",{staticClass:"mb-1"},[t._v(t._s("register"===t.mode?"이미 회원 가입을 했다면?":"아직 회원 가입을 하지 않았다면?"))]),t._v(" "),s("RouterLink",{attrs:{to:"register"===t.mode?"/account/signin":"/account/register"}},[t._v("← "+t._s("register"===t.mode?"로그인 페이지":"회원 가입 페이지"))])],1)])},[],!1,null,"47f92d44",null);e.default=c.exports},68:function(t,e,s){},96:function(t,e,s){"use strict";var a=s(68);s.n(a).a}}]);